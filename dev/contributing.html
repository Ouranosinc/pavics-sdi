

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contributing &mdash; PAVICS 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PAVICS 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Developer Documentation" href="index.html"/>
        <link rel="next" title="System Architecture" href="../arch/index.html"/>
        <link rel="prev" title="Building the docs" href="builddocs.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PAVICS
          

          
            
            <img src="../_static/pavics_v.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes/index.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/index.html">Using Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gui/index.html">Graphical User Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="load_balancing.html">Load balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Birdhouse service configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="vm.html">VM configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="permissions.html">User and Group management</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoserver.html">GeoServer administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_management.html">Data and service management</a></li>
<li class="toctree-l2"><a class="reference internal" href="integration_tests.html">Integration tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="builddocs.html">Building the docs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#benchmark-development-environment">Benchmark development environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-pycharm">Setting up PyCharm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#launching-individual-local-components">Launching individual local components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solr">Solr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#public-thredds">Public THREDDS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secure-thredds-https">Secure THREDDS (HTTPS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#https-custom-wps-service">HTTPS custom WPS service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pavics-datacatalog-development">PAVICS-DataCatalog development</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flyingpigeon-development">Flyingpigeon development</a></li>
<li class="toctree-l4"><a class="reference internal" href="#malleefowl-development">Malleefowl development</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provenance/index.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PAVICS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Developer Documentation</a> &raquo;</li>
      
    <li>Contributing</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/dev/contributing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="contributing">
<span id="contrib"></span><h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="benchmark-development-environment">
<h2>Benchmark development environment<a class="headerlink" href="#benchmark-development-environment" title="Permalink to this headline">¶</a></h2>
<p>For debugging and editing purposes, PAVICS should be set up on a virtual machine. We recommend installing the <a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">Oracle VM VirtualBox with Extensions</a> and creating a VM with the following base specifications:</p>
<ul class="simple">
<li>AMD64 Ubuntu Linux 16.04 Long-Term-Support (LTS) (via <a class="reference external" href="https://www.ubuntu.com/download/desktop">Ubuntu Downloads</a>)</li>
<li>&gt; 8 GB RAM</li>
<li>&gt; 70 GB Storage</li>
<li>&gt; 2 CPUs</li>
<li>Network bridge access</li>
<li>Install VBoxGuestAdditions within the Ubuntu guest for corresponding
VirtualBox version. This can be done via the <cite>Devices</cite> tab of the VM via the <cite>Insert Guest Additions ISO image…</cite> and following the install instruction from the <code class="docutils literal notranslate"><span class="pre">autorun.sh</span></code> script.</li>
</ul>
<p>Required VM packages for various PAVICS components (most can be installed via <a href="#id1"><span class="problematic" id="id2">`</span></a>apt-get`with root privileges):</p>
<ul class="simple">
<li>python-dev</li>
<li>curl <cite>or</cite> wget</li>
<li>git</li>
<li>docker.io</li>
<li>docker-compose</li>
</ul>
</div>
<div class="section" id="setting-up-pycharm">
<h2>Setting up PyCharm<a class="headerlink" href="#setting-up-pycharm" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For missing python modules: <a class="reference external" href="https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html">https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html</a></p>
</div>
<p>The PAVICS back-end relies on developmental builds based on the Open Geospatial Consortium Web Processing Services. To install these libraries in your working environment, run the following within your PyCharm console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pip</span>
<span class="n">pip</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s1">&#39;install&#39;</span><span class="p">,</span> <span class="s1">&#39;https://github.com/geopython/pywps/archive/7cab3866e34ce24d3df56e3c1c546739b1cda2d7.zip&#39;</span><span class="p">])</span>
<span class="n">pip</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s1">&#39;install&#39;</span><span class="p">,</span> <span class="s1">&#39;--upgrade&#39;</span><span class="p">,</span> <span class="s1">&#39;--force-reinstall&#39;</span><span class="p">,</span> <span class="s1">&#39;https://github.com/bird-house/OWSLib/archive/pingudev.zip&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Some packages are not happy with Python <code class="docutils literal notranslate"><span class="pre">wheel</span></code>, try uninstalling it if all else fails.</p>
</div>
</div>
<div class="section" id="launching-individual-local-components">
<h2>Launching individual local components<a class="headerlink" href="#launching-individual-local-components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solr">
<h3>Solr<a class="headerlink" href="#solr" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">pavics</span><span class="o">/</span><span class="n">solr</span>
<span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">my_solr</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8983</span><span class="p">:</span><span class="mi">8983</span> <span class="o">-</span><span class="n">t</span> <span class="n">pavics</span><span class="o">/</span><span class="n">solr</span>
</pre></div>
</div>
<p>Check that Solr is running at <a class="reference external" href="http://localhost:8983/solr/#/birdhouse">http://localhost:8983/solr/#/birdhouse</a></p>
</div>
<div class="section" id="public-thredds">
<h3>Public THREDDS<a class="headerlink" href="#public-thredds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ouranosinc</span><span class="o">/</span><span class="n">PAVICS</span><span class="o">.</span><span class="n">git</span>
<span class="n">cp</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">public_thredds</span><span class="o">.</span><span class="n">yml</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>In this new docker-compose.override.yml change ${PATH_TO_LOCAL_NETCDF_FILES}
to an actual path on disk with NetCDF files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span> <span class="n">thredds</span>
</pre></div>
</div>
<p>Check that thredds is running at <a class="reference external" href="http://localhost:8083/thredds/">http://localhost:8083/thredds/</a></p>
</div>
<div class="section" id="secure-thredds-https">
<h3>Secure THREDDS (HTTPS)<a class="headerlink" href="#secure-thredds-https" title="Permalink to this headline">¶</a></h3>
<p>First you will need a self-signed certificate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">openssl</span> <span class="n">req</span> <span class="o">-</span><span class="n">x509</span> <span class="o">-</span><span class="n">nodes</span> <span class="o">-</span><span class="n">newkey</span> <span class="n">rsa</span><span class="p">:</span><span class="mi">4096</span> <span class="o">-</span><span class="n">keyout</span> <span class="n">key</span><span class="o">.</span><span class="n">pem</span> <span class="o">-</span><span class="n">out</span> <span class="n">cert</span><span class="o">.</span><span class="n">pem</span> <span class="o">-</span><span class="n">days</span> <span class="mi">365</span>
</pre></div>
</div>
<p>This will ask for various inputs that may be left blank.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">key</span><span class="o">.</span><span class="n">pem</span> <span class="o">&gt;&gt;</span> <span class="n">cert</span><span class="o">.</span><span class="n">pem</span>
</pre></div>
</div>
<p>cert.pm is your self-signed certificate.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ouranosinc</span><span class="o">/</span><span class="n">PAVICS</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Switch to PAVICS/birdhouse directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">set_hostname</span><span class="o">.</span><span class="n">sh</span> <span class="n">dummy</span>
</pre></div>
</div>
<p>Add this dummy hostname to /etc/hosts</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>       <span class="n">dummy</span><span class="o">.</span><span class="n">crim</span><span class="o">.</span><span class="n">ca</span>
</pre></div>
</div>
<p>Either set SSL_CERTIFICATE to the location of cert.pem and HOSTNAME to
dummy.crim.ca or use the template docker-compose_shorcut.sh and set those
values in it (here renamed to mycompose.sh).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">local_https_thredds</span><span class="o">.</span><span class="n">yml</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>In this override file specify the path to local netcdf files and set
localhost IP.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">mycompose</span><span class="o">.</span><span class="n">sh</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span> <span class="n">thredds</span> <span class="n">proxy</span> <span class="n">magpie</span> <span class="n">twitcher</span>
</pre></div>
</div>
<p>It may take a minute for twitcher to get online. If it does not
respond after a while, try to restart everything once or twice.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">mycompose</span> <span class="n">down</span>
<span class="o">./</span><span class="n">mycompose</span><span class="o">.</span><span class="n">sh</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span> <span class="n">thredds</span> <span class="n">proxy</span> <span class="n">magpie</span> <span class="n">twitcher</span>
</pre></div>
</div>
<p>Check that twitcher is running at <a class="reference external" href="https://localhost/twitcher/">https://localhost/twitcher/</a> (returns hello)</p>
<p>Check that magpie is running at <a class="reference external" href="https://localhost/magpie/">https://localhost/magpie/</a></p>
<p>Check that thredds is running at <a class="reference external" href="https://localhost/twitcher/ows/proxy/thredds/">https://localhost/twitcher/ows/proxy/thredds/</a></p>
<p>Play around with magpie permissions to check that the security is working</p>
</div>
<div class="section" id="https-custom-wps-service">
<h3>HTTPS custom WPS service<a class="headerlink" href="#https-custom-wps-service" title="Permalink to this headline">¶</a></h3>
<p>Follow all the steps of the HTTPS THREDDS setup above up to the
template copy, instead use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">local_https_wps</span><span class="o">.</span><span class="n">yml</span> <span class="n">PAVICS</span><span class="o">/</span><span class="n">birdhouse</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>In this override file, set the localhost IP, then you can switch the
wpsandbox image for the wps service image of your choice and assign it
an available port of your choice. Then assign a corresponding port to
the proxy. A new proxy configuration file need to be added to
PAVICS/birdhouse/config/proxy/conf.d/wpsandbox.conf for this service,
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="p">{</span>
    <span class="n">listen</span> <span class="mi">8081</span><span class="p">;</span>
    <span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
        <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">wpsandbox</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">mycompose</span><span class="o">.</span><span class="n">sh</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span> <span class="n">proxy</span> <span class="n">magpie</span> <span class="n">twitcher</span> <span class="n">wpsandbox</span>
</pre></div>
</div>
<p>It may take a minute for twitcher to get online. If it does not
respond after a while, try to restart everything once or twice.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">mycompose</span> <span class="n">down</span>
<span class="o">./</span><span class="n">mycompose</span><span class="o">.</span><span class="n">sh</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span> <span class="n">thredds</span> <span class="n">proxy</span> <span class="n">magpie</span> <span class="n">twitcher</span>
</pre></div>
</div>
<p>Check that twitcher is running at <a class="reference external" href="https://localhost/twitcher/">https://localhost/twitcher/</a> (returns hello)</p>
<p>Check that magpie is running at <a class="reference external" href="https://localhost/magpie/">https://localhost/magpie/</a></p>
<p>Register the new wps service in magpie: In Home &gt; Edit Services &gt;
wps &gt; Add Service. In our case the name is wpsandbox and the public
url is <a class="reference external" href="https://dummy.crim.ca/twitcher/ows/proxy/wpsandbox">https://dummy.crim.ca/twitcher/ows/proxy/wpsandbox</a> with the wps
service type. Then edit this new service Protected URL to
<a class="reference external" href="http://dummy.crim.ca:8081">http://dummy.crim.ca:8081</a></p>
<p>Alternatively, this can be entered in
PAVICS/birdhouse/config/magpie/providers.cfg</p>
<p>Check that the wps is running at <a class="reference external" href="https://localhost/twitcher/ows/proxy/wpsandbox/pywps?service=WPS&amp;version=1.0.0&amp;request=GetCapabilities">https://localhost/twitcher/ows/proxy/wpsandbox/pywps?service=WPS&amp;version=1.0.0&amp;request=GetCapabilities</a></p>
<p>Play around with magpie permissions to check that the security is working</p>
</div>
<div class="section" id="pavics-datacatalog-development">
<h3>PAVICS-DataCatalog development<a class="headerlink" href="#pavics-datacatalog-development" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ouranosinc</span><span class="o">/</span><span class="n">PAVICS</span><span class="o">-</span><span class="n">DataCatalog</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">PAVICS</span><span class="o">-</span><span class="n">DataCatalog</span>
<span class="n">cp</span> <span class="n">catalog</span><span class="o">.</span><span class="n">cfg</span> <span class="o">~/</span><span class="n">catalog</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
<p>Edit ~/catalog.cfg with Solr address. Note that within docker, localhost
is not the same as the workstation localhost, so the address must use the ip
of the local machine (retrieve with, e.g., ifconfig). Also point to a
valid thredds server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Docker requires root privileges</span>
<span class="n">sudo</span> <span class="n">su</span>
<span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">pavics</span><span class="o">-</span><span class="n">datacatalog</span> <span class="o">.</span>
<span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">pavics</span><span class="o">-</span><span class="n">datacatalog1</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">v</span> <span class="o">~/</span><span class="n">catalog</span><span class="o">.</span><span class="n">cfg</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">catalog</span><span class="o">.</span><span class="n">cfg</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8009</span><span class="p">:</span><span class="mi">80</span> <span class="n">pavics</span><span class="o">-</span><span class="n">datacatalog</span>
</pre></div>
</div>
<p>Check that the wps is running at <a class="reference external" href="http://localhost:8009/pywps?service=WPS&amp;request=GetCapabilities&amp;version=1.0.0">http://localhost:8009/pywps?service=WPS&amp;request=GetCapabilities&amp;version=1.0.0</a></p>
<p>Note that when running with magpie, the root directory of thredds does not
properly redirect to the proxy. To crawl a thredds server with threddsclient,
provide the birdhouse root directory of thredds (e.g. in catalog.cfg):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="o">/</span><span class="n">twitcher</span><span class="o">/</span><span class="n">ows</span><span class="o">/</span><span class="n">proxy</span><span class="o">/</span><span class="n">thredds</span><span class="o">/</span><span class="n">catalog</span><span class="o">/</span><span class="n">birdhouse</span>
</pre></div>
</div>
</div>
<div class="section" id="flyingpigeon-development">
<h3>Flyingpigeon development<a class="headerlink" href="#flyingpigeon-development" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ouranosinc</span><span class="o">/</span><span class="n">flyingpigeon</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">flyingpigeon</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">pavics</span>
</pre></div>
</div>
<p>Need to either add a custom.cfg or modify profiles/base.cfg with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">settings</span><span class="p">]</span>
<span class="n">geoserver</span> <span class="o">=</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">host</span><span class="p">:</span><span class="n">port</span><span class="o">/</span><span class="n">geoserver</span><span class="o">/</span><span class="n">wfs</span>
</pre></div>
</div>
<p>Then proceed with installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span> <span class="n">install</span>
<span class="n">make</span> <span class="n">test</span>
<span class="n">make</span> <span class="n">start</span>
</pre></div>
</div>
<p>The WPS will be running at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost:8093/wps?service=WPS&amp;version=1.0.0&amp;request=GetCapabilities
</pre></div>
</div>
<p>To restart flyingpigeon (e.g. after modifications):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">stop</span>
<span class="n">make</span> <span class="n">start</span>
</pre></div>
</div>
</div>
<div class="section" id="malleefowl-development">
<h3>Malleefowl development<a class="headerlink" href="#malleefowl-development" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ouranosinc</span><span class="o">/</span><span class="n">malleefowl</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">malleefowl</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">pavics</span>
</pre></div>
</div>
<p>Need to either add a custom.cfg or modify profiles/base.cfg with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">settings</span><span class="p">]</span>
<span class="n">persist</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="o">/</span><span class="n">tmp</span>
<span class="n">archive</span><span class="o">-</span><span class="n">root</span> <span class="o">=</span> <span class="o">/</span>
</pre></div>
</div>
<p>Then proceed with installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span> <span class="n">install</span>
<span class="n">make</span> <span class="n">test</span>
<span class="n">make</span> <span class="n">start</span>
</pre></div>
</div>
<p>The WPS will be running at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost:8091/wps?service=WPS&amp;version=1.0.0&amp;request=GetCapabilities
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../arch/index.html" class="btn btn-neutral float-right" title="System Architecture" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="builddocs.html" class="btn btn-neutral" title="Building the docs" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ouranos &amp; CRIM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>