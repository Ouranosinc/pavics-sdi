

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>owslib is a Python package for client programming with OGC web service interface standards. &mdash; PAVICS 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PAVICS 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Tutorials" href="index.html"/>
        <link rel="next" title="Bias correction process" href="bias_correction.html"/>
        <link rel="prev" title="Working with Web Processing Service with Python" href="wps_with_python.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PAVICS
          

          
            
            <img src="../_static/pavics_v.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="wps_with_python.html">Working with Web Processing Service with Python</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">owslib is a Python package for client programming with OGC web service interface standards.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Web-Mapping-Service">Web Mapping Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Getting-the-image-data">Getting the image data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Plotting-the-image-on-a-map">Plotting the image on a map</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#See-the-WFS-example.-Maybe-you-can-integrate-something-from-there?">See the WFS example. Maybe you can integrate something from there?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bias_correction.html">Bias correction process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes/index.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/index.html">Using workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provenance/index.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PAVICS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      
    <li>owslib is a Python package for client programming with OGC web service interface standards.</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorials/owslib_intro.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="owslib-is-a-Python-package-for-client-programming-with-OGC-web-service-interface-standards.">
<h1>owslib is a Python package for client programming with OGC web service interface standards.<a class="headerlink" href="#owslib-is-a-Python-package-for-client-programming-with-OGC-web-service-interface-standards." title="Permalink to this headline">¶</a></h1>
<p>In this tutorial we’ll work with the four types of interfaces we’ve seen
so far: WMS, WFS, WCS and WPS. But there are other interfaces supported
by owslib that are of potential interest, namely the <code class="docutils literal notranslate"><span class="pre">csw</span></code> (Catalog
services), <code class="docutils literal notranslate"><span class="pre">sos</span></code> (Sensor Observation Services) and <code class="docutils literal notranslate"><span class="pre">waterml</span></code> (Water
Markup Language).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">owslib</span>
<span class="n">owslib</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[4]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;0.16.0&#39;
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">owslib.wms</span> <span class="k">import</span> <span class="n">WebMapService</span>
<span class="kn">from</span> <span class="nn">owslib.wfs</span> <span class="k">import</span> <span class="n">WebFeatureService</span>
<span class="kn">from</span> <span class="nn">owslib.wcs</span> <span class="k">import</span> <span class="n">WebCoverageService</span>
<span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="k">import</span> <span class="n">WebProcessingService</span>
<span class="c1">#</span>
<span class="kn">from</span> <span class="nn">owslib.csw</span> <span class="k">import</span> <span class="n">CatalogueServiceWeb</span>
<span class="kn">from</span> <span class="nn">owslib.sos</span> <span class="k">import</span> <span class="n">SensorObservationService</span>
<span class="kn">from</span> <span class="nn">owslib.waterml.wml11</span> <span class="k">import</span> <span class="n">WaterML_1_1</span>
<span class="kn">from</span> <span class="nn">owslib.wmts</span> <span class="k">import</span> <span class="n">WebMapTileService</span>
</pre></div>
</div>
</div>
<div class="section" id="Web-Mapping-Service">
<h2>Web Mapping Service<a class="headerlink" href="#Web-Mapping-Service" title="Permalink to this headline">¶</a></h2>
<p>We start by fetching a map using the WMS protocol. We first instantiate
a <code class="docutils literal notranslate"><span class="pre">WebMapService</span></code> object using the address of the NASA server, then
browse through its content.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">wms</span> <span class="o">=</span> <span class="n">WebMapService</span><span class="p">(</span><span class="s1">&#39;https://neowms.sci.gsfc.nasa.gov/wms/wms&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Title: &quot;</span><span class="p">,</span> <span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type: &quot;</span><span class="p">,</span> <span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Operations: &quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">wms</span><span class="o">.</span><span class="n">operations</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GetMap options: &quot;</span><span class="p">,</span> <span class="n">wms</span><span class="o">.</span><span class="n">getOperationByName</span><span class="p">(</span><span class="s1">&#39;GetMap&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">formatOptions</span><span class="p">)</span>
<span class="n">wms</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">content</span></code> is a dictionary holding metadata for each layer. We’ll
print some of the metadata’ title for a couple of layers to see what’s
in it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;MOD14A1_M_FIRE&#39;</span><span class="p">,</span> <span class="s1">&#39;CERES_LWFLUX_M&#39;</span><span class="p">,</span> <span class="s1">&#39;MOD11C1_M_LSTDA&#39;</span><span class="p">,</span> <span class="s1">&#39;ICESAT_ELEV_G&#39;</span><span class="p">,</span> <span class="s1">&#39;MODAL2_M_CLD_WP&#39;</span><span class="p">,</span> <span class="s1">&#39;MOD_143D_RR&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">wms</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Active Fires (1 month - Terra/MODIS)
Outgoing Longwave Radiation (1 month)
Land Surface Temperature [Day] (1 month - Terra/MODIS)
Greenland / Antarctica Elevation
Cloud Water Content (1 month - Terra/MODIS)
True Color (1 day - Terra/MODIS Rapid Response)
</pre></div></div>
</div>
<p>We’ll select the true color Earth imagery from Terra/MODIS. Let’s check
out some of its properties. We can also pretty print the full abstract
with HTML.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="k">import</span> <span class="n">HTML</span>

<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;MOD_143D_RR&#39;</span>
<span class="n">layer</span> <span class="o">=</span> <span class="n">wms</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Abstract: &quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">abstract</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BBox: &quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">boundingBoxWGS84</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CRS: &quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">crsOptions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Styles: &quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">styles</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Timestamps: &quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">timepositions</span><span class="p">)</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">abstract</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Abstract:  None
BBox:  (-180.0, -90.0, 180.0, 90.0)
CRS:  [&#39;EPSG:4326&#39;]
Styles:  {}
Timestamps:  [&#39;2006-09-01/2006-09-14/P1D&#39;, &#39;2006-09-17/2006-10-10/P1D&#39;, &#39;2006-10-12/2006-11-18/P1D&#39;, &#39;2006-11-21/2007-03-01/P1D&#39;, &#39;2007-03-03/2007-08-16/P1D&#39;, &#39;2007-08-18&#39;, &#39;2007-08-20/2007-09-11/P1D&#39;, &#39;2007-09-15/2007-12-30/P1D&#39;, &#39;2008-01-01/2008-01-24/P1D&#39;, &#39;2008-01-27/2008-02-24/P1D&#39;, &#39;2008-02-26/2008-03-18/P1D&#39;, &#39;2008-03-20/2008-06-12/P1D&#39;, &#39;2008-06-14&#39;, &#39;2008-06-16/2008-07-12/P1D&#39;, &#39;2008-07-14/2008-09-17/P1D&#39;, &#39;2008-09-19&#39;, &#39;2008-09-22/2008-10-17/P1D&#39;, &#39;2008-10-19/2008-10-22/P1D&#39;, &#39;2008-10-28/2008-12-02/P1D&#39;, &#39;2008-12-04/2008-12-20/P1D&#39;, &#39;2008-12-23/2008-12-30/P1D&#39;, &#39;2009-01-01/2009-01-20/P1D&#39;, &#39;2009-01-22/2009-04-19/P1D&#39;, &#39;2009-04-23/2009-07-05/P1D&#39;, &#39;2009-07-08/2009-12-30/P1D&#39;, &#39;2010-01-01/2010-07-16/P1D&#39;, &#39;2010-07-18/2010-12-07/P1D&#39;, &#39;2010-12-09/2010-12-30/P1D&#39;, &#39;2011-01-01/2011-01-25/P1D&#39;, &#39;2011-01-27/2011-03-19/P1D&#39;, &#39;2011-03-21/2011-07-23/P1D&#39;, &#39;2011-07-27/2011-08-27/P1D&#39;, &#39;2011-08-30/2011-12-13/P1D&#39;, &#39;2011-12-15/2012-02-19/P1D&#39;, &#39;2012-02-21/2013-12-01/P1D&#39;, &#39;2013-12-04/2018-03-12/P1D&#39;, &#39;2018-03-14/2018-05-16/P1D&#39;, &#39;2018-05-18/2018-09-16/P1D&#39;]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<p>These images show the Earth's surface and clouds in true color, like a photograph. NASA uses satellites in space to gather images like these over the whole world every day. Scientists use these images to track changes on Earth's surface. Notice the shapes and patterns of the colors across the lands. Dark green areas show where there are many plants. Brown areas are where the satellite sensor sees more of the bare land surface because there are few plants. White areas are either snow or clouds. Where on Earth would you like to explore?</p></div>
</div>
</div>
<div class="section" id="Getting-the-image-data">
<h2>Getting the image data<a class="headerlink" href="#Getting-the-image-data" title="Permalink to this headline">¶</a></h2>
<p>Now let’s get the image ! The response we’re getting is a
<code class="docutils literal notranslate"><span class="pre">ResponseWrapper</span></code> object, we need to <code class="docutils literal notranslate"><span class="pre">read</span></code> its content to get the
actual bytes for the png file. To avoid writing the data to disk, we’ll
mimic a file object in memory using the io.BytesIO function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">response</span> <span class="o">=</span> <span class="n">wms</span><span class="o">.</span><span class="n">getmap</span><span class="p">(</span><span class="n">layers</span><span class="o">=</span><span class="p">[</span><span class="n">name</span><span class="p">,],</span>
                 <span class="n">styles</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rgb&#39;</span><span class="p">],</span>
                 <span class="n">bbox</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span> <span class="c1"># Left, bottom, right, top</span>
                 <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;image/png&#39;</span><span class="p">,</span>
                 <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">),</span>
                 <span class="n">srs</span><span class="o">=</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span>
                 <span class="n">time</span><span class="o">=</span><span class="s1">&#39;2018-09-16&#39;</span><span class="p">,</span>
                 <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">response</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[7]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;owslib.util.ResponseWrapper at 0x7fbc78447f60&gt;
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">io</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Plotting-the-image-on-a-map">
<h2>Plotting the image on a map<a class="headerlink" href="#Plotting-the-image-on-a-map" title="Permalink to this headline">¶</a></h2>
<p>Using the <code class="docutils literal notranslate"><span class="pre">cartopy</span></code> library, we’ll overlay the image on a map of the
Earth.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">cartopy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">projection</span><span class="o">=</span><span class="n">cartopy</span><span class="o">.</span><span class="n">crs</span><span class="o">.</span><span class="n">Mollweide</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;upper&quot;</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span>
          <span class="n">transform</span><span class="o">=</span><span class="n">cartopy</span><span class="o">.</span><span class="n">crs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_owslib_intro_14_0.png" src="../_images/tutorials_owslib_intro_14_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Web Feature Services</span>
<span class="c1">#url = &quot;http://geo.weather.gc.ca/geomet/wfs&quot;</span>
<span class="c1">#wfs = WebFeatureService(url, version=&#39;1.1.0&#39;)</span>

</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#print(wfs.contents.keys())</span>
<span class="c1">#name = &#39;ec-msc:HURRICANE_LINE&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#feature = wfs.getfeature(typename=name)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<p>… but the ECCC server only seems to output in GML format, which is a
pain to convert to anything useful for plotting…</p>
<div class="section" id="See-the-WFS-example.-Maybe-you-can-integrate-something-from-there?">
<h3>See the WFS example. Maybe you can integrate something from there?<a class="headerlink" href="#See-the-WFS-example.-Maybe-you-can-integrate-something-from-there?" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bias_correction.html" class="btn btn-neutral float-right" title="Bias correction process" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="wps_with_python.html" class="btn btn-neutral" title="Working with Web Processing Service with Python" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ouranos &amp; CRIM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>