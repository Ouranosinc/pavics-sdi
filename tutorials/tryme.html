

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Bias correction &mdash; PAVICS 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PAVICS 0.1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PAVICS
          

          
            
            <img src="../_static/pavics_v.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes/index.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/index.html">Using Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gui/index.html">Graphical User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provenance/index.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PAVICS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Bias correction</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorials/tryme.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Bias-correction">
<h1>Bias correction<a class="headerlink" href="#Bias-correction" title="Permalink to this headline">¶</a></h1>
<p>There is at the moment only one bias correction process implemented, the
Kernel Density Distribution Mapping. It was written in R and given an
observation variable <code class="docutils literal notranslate"><span class="pre">obs</span></code>, a simulated variable over the observation
period <code class="docutils literal notranslate"><span class="pre">ref</span></code> and a future period <code class="docutils literal notranslate"><span class="pre">fut</span></code>, it would be called as
<code class="docutils literal notranslate"><span class="pre">fp.kddm_bc(obs=obs,</span> <span class="pre">ref=ref,</span> <span class="pre">fut=fut)</span></code>. Since this function is so
compute intensive, we’ll create a small synthetic file for testing.</p>
<div class="section" id="Note">
<h2>Note<a class="headerlink" href="#Note" title="Permalink to this headline">¶</a></h2>
<p>The current production version of FlyingPigeon runs on a version of
PyWPS whose handling of binary files is sketchy. That means that it
works well when files are provided as references, not embedded in an
http request. This functionality will become available with the next
update. For this example we’ll use files stored on the PAVICS THREDDS
server.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">thredds</span> <span class="o">=</span> <span class="s1">&#39;https://pavics.ouranos.ca/twitcher/ows/proxy/thredds/fileServer/birdhouse/testdata/flyingpigeon/&#39;</span>

<span class="n">obs</span> <span class="o">=</span> <span class="n">thredds</span> <span class="o">+</span> <span class="s1">&#39;tmax.obs.nc&#39;</span>
<span class="n">ref</span> <span class="o">=</span> <span class="n">thredds</span> <span class="o">+</span> <span class="s1">&#39;tmax.cur.nc&#39;</span>
<span class="n">fut</span> <span class="o">=</span> <span class="n">thredds</span> <span class="o">+</span> <span class="s1">&#39;tmax.fut.nc&#39;</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">kddm_bc</span><span class="p">(</span><span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">ref</span><span class="o">=</span><span class="n">ref</span><span class="p">,</span> <span class="n">fut</span><span class="o">=</span><span class="n">fut</span><span class="p">)</span>
<span class="n">resp</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-9-57f9d3c55267&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> fut <span class="ansi-blue-fg">=</span> thredds <span class="ansi-blue-fg">+</span> <span class="ansi-blue-fg">&#39;tmax.fut.nc&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span>
<span class="ansi-green-fg">----&gt; 7</span><span class="ansi-red-fg"> </span>resp <span class="ansi-blue-fg">=</span> fp<span class="ansi-blue-fg">.</span>kddm_bc<span class="ansi-blue-fg">(</span>obs<span class="ansi-blue-fg">=</span>obs<span class="ansi-blue-fg">,</span> ref<span class="ansi-blue-fg">=</span>ref<span class="ansi-blue-fg">,</span> fut<span class="ansi-blue-fg">=</span>fut<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      8</span> resp

<span class="ansi-red-fg">NameError</span>: name &#39;fp&#39; is not defined
</pre></div></div>
</div>
<p>The response is a link to the bias-corrected file. It’s possible to get
the actual netCDF file by using the <code class="docutils literal notranslate"><span class="pre">get</span></code> method of the response.</p>
</div>
<div class="section" id="Subset-processes-with-WPS-and-FlyingPigeon">
<h2>Subset processes with WPS and FlyingPigeon<a class="headerlink" href="#Subset-processes-with-WPS-and-FlyingPigeon" title="Permalink to this headline">¶</a></h2>
<p>PAVICS offers a number of subsetting processes: - subset_continents -
subset_countries - subset_bbox - subset_wfs - subset</p>
<p>The <code class="docutils literal notranslate"><span class="pre">subset_continents</span></code> and <code class="docutils literal notranslate"><span class="pre">subset_countries</span></code> use a predefined list
of polygons for the subsetting. The <code class="docutils literal notranslate"><span class="pre">subset_bbox</span></code> takes the
geographical coordinates of the two opposite corner of a rectangle to
define the subset region, while both <code class="docutils literal notranslate"><span class="pre">subset_wfs</span></code> and <code class="docutils literal notranslate"><span class="pre">subset</span></code> use a
polygon defined on a remote geoserver, identified by a typename and a
feature id. The only difference is that <code class="docutils literal notranslate"><span class="pre">subset</span></code> also does temporal
subsetting.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">afr</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">subset_continents</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="n">thredds</span><span class="o">+</span><span class="n">res</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="s1">&#39;Africa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mex</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">subset_countries</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="n">thredds</span><span class="o">+</span><span class="n">res</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="s1">&#39;FRA&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Traceback <span class="ansi-cyan-fg">(most recent call last)</span>:

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/.conda/envs/birdy/lib/python3.6/site-packages/IPython/core/interactiveshell.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">2963</span>, in <span class="ansi-magenta-intense-fg ansi-bold">run_code</span>
    exec(code_obj, self.user_global_ns, self.user_ns)

  File <span class="ansi-green-intense-fg ansi-bold">&#34;&lt;ipython-input-26-ba96f4e0b0a3&gt;&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">1</span>, in <span class="ansi-magenta-intense-fg ansi-bold">&lt;module&gt;</span>
    mex = fp.subset_countries(resource=thredds+res, region=&#39;FRA&#39;)

  File <span class="ansi-green-intense-fg ansi-bold">&#34;&lt;/home/david/src/birdy/birdy/client/base.py-7&gt;&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">25</span>, in <span class="ansi-magenta-intense-fg ansi-bold">subset_countries</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/src/birdy/birdy/client/base.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">206</span>, in <span class="ansi-magenta-intense-fg ansi-bold">_execute</span>
    ]

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/src/OWSLib/owslib/wps.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">328</span>, in <span class="ansi-magenta-intense-fg ansi-bold">execute</span>
    requestElement = execution.buildRequest(identifier, inputs, output, mode=mode, lineage=lineage)

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/src/OWSLib/owslib/wps.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">856</span>, in <span class="ansi-magenta-intense-fg ansi-bold">submitRequest</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/src/OWSLib/owslib/wps.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">553</span>, in <span class="ansi-magenta-intense-fg ansi-bold">readFromUrl</span>
    def readFromUrl(self, url, data={}, method=&#39;Get&#39;, username=None, password=None,

  File <span class="ansi-green-intense-fg ansi-bold">&#34;/home/david/src/OWSLib/owslib/wps.py&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">466</span>, in <span class="ansi-magenta-intense-fg ansi-bold">_readFromUrl</span>
    1], method=&#39;Get&#39;, username=username, password=password,

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/etree.pyx&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">3213</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree.fromstring</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/parser.pxi&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">1876</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree._parseMemoryDocument</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/parser.pxi&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">1764</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree._parseDoc</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/parser.pxi&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">1126</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree._BaseParser._parseDoc</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/parser.pxi&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">600</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree._ParserContext._handleParseResultDoc</span>

  File <span class="ansi-green-intense-fg ansi-bold">&#34;src/lxml/parser.pxi&#34;</span>, line <span class="ansi-green-intense-fg ansi-bold">710</span>, in <span class="ansi-magenta-intense-fg ansi-bold">lxml.etree._handleParseResult</span>

<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;src/lxml/parser.pxi&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">639</span><span class="ansi-cyan-fg">, in </span><span class="ansi-magenta-fg">lxml.etree._raiseParseError</span>

<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;string&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">6</span>
<span class="ansi-red-fg">XMLSyntaxError</span><span class="ansi-red-fg">:</span> Opening and ending tag mismatch: hr line 5 and body, line 6, column 8

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="n">bb</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">subset_bbox</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="n">thredds</span><span class="o">+</span><span class="n">res</span><span class="p">,</span>
                    <span class="n">lon0</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">lon1</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">lat1</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                    <span class="n">initial_datetime</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2006</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                    <span class="n">final_datetime</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2006</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 owslib.wps.WPSException : {&#39;code&#39;: &#39;NoApplicableCode&#39;, &#39;locator&#39;: None, &#39;text&#39;: &#39;Process error: wps_subset_bbox.py._handler Line 87 Traceback (most recent call last):\n  File &#34;/opt/birdhouse/src/flyingpigeon/flyingpigeon/processes/wps_subset_bbox.py&#34;, line 84, in _handler\n    spatial_mode=\&#39;bbox\&#39;)\n  File &#34;/opt/birdhouse/src/flyingpigeon/flyingpigeon/handler_common.py&#34;, line 46, in wfs_common\n    raise Exception(traceback.format_exc())\nException: Traceback (most recent call last):\n  File &#34;/opt/birdhouse/src/flyingpigeon/flyingpigeon/handler_common.py&#34;, line 44, in wfs_common\n    output_path=\&#39;/tmp\&#39;)\n  File &#34;/opt/birdhouse/src/flyingpigeon/flyingpigeon/utils.py&#34;, line 1230, in opendap_or_download\n    raise IOError(&#34;This does not appear to be a valid NetCDF file.&#34;)\nIOError: This does not appear to be a valid NetCDF file.\n\n&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fp</span><span class="o">.</span><span class="n">subset_wfs</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="n">thredds</span><span class="o">+</span><span class="n">res</span><span class="p">,</span>
             <span class="n">typename</span><span class="o">=</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fn</span> <span class="o">=</span> <span class="n">thredds</span><span class="o">+</span><span class="n">res</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;https://pavics.ouranos.ca/twitcher/ows/proxy/thredds/fileServer/birdhouse/testdata/flyingpigeon/cmip5/tasmax_Amon_MPI-ESM-MR_rcp45_r2i1p1_200601-200612.nc&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">r</span><span class="o">.</span><span class="n">content</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[38]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>b&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;\r\n  &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;TDS - Error report&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/thredds/tds.css&quot; type=&quot;text/css&quot;/&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;h1&gt;HTTP Status 404 - Not Found&lt;/h1&gt;\r\n    &lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&gt;\r\n    &lt;p&gt;&lt;b&gt;Status&lt;/b&gt; 404 - Not Found&lt;/p&gt;\r\n    &lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&gt;\r\n    &lt;h3&gt;THREDDS Data Server Version 4.6\r\n      -- &lt;a href=\&#39;http://www.unidata.ucar.edu/software/thredds/v4.6/tds/TDS.html\&#39;&gt;Documentation&lt;/a&gt;&lt;/h3&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n&#39;
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ouranos &amp; CRIM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>