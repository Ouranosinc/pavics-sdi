

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflow vocabulary &mdash; PAVICS 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PAVICS 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Using workflows" href="index.html"/>
        <link rel="next" title="Examples" href="examples.html"/>
        <link rel="prev" title="Using workflows" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PAVICS
          

          
            
            <img src="../_static/pavics_v.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes/index.html">Processes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using workflows</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workflow vocabulary</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="schema.html">Workflow schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provenance/index.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PAVICS</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Using workflows</a> &raquo;</li>
        
      <li>Workflow vocabulary</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/workflows/vocabulary.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="workflow-vocabulary">
<h1>Workflow vocabulary<a class="headerlink" href="#workflow-vocabulary" title="Permalink to this headline">¶</a></h1>
<p>Creating a climate product usually involves multiple steps:</p>
<ol class="arabic simple">
<li>Selecting datasets</li>
<li>Subsetting the data to a specific region and period</li>
<li>Either regridding the multiple datasets to a common grid or computing spatial averages</li>
<li>Computing climate indices</li>
<li>Create graphs or tables from the results</li>
</ol>
<p>Typically each step would involve calling one or many individual processes, and it’s convenient to combine these steps into a <em>workflow</em>. Here we use <em>workflow</em> to mean a formal description of the logical organization and ordering of individual processes. The workflow logic is encapsulated in a <code class="docutils literal"><span class="pre">json</span></code> file using a vocabulary (called a <a class="reference external" href="http://json-schema.org">schema</a>) that we describe below.</p>
<p>Workflows are built by combining <code class="docutils literal"><span class="pre">Workflow_task</span></code> into <code class="docutils literal"><span class="pre">Group_of_task</span></code>. These groups are then executed sequentially or in parallel, as indicated in the <code class="docutils literal"><span class="pre">Workflow</span></code> field (see the <a class="reference internal" href="schema.html#schema"><span class="std std-ref">Workflow schema</span></a>).</p>
<dl class="object">
<dt id="workflow">
<!--[workflow]--><code class="descname">Workflow</code><a class="headerlink" href="#workflow" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>High-level object describing a workflow.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Object Properties:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Workflow name</li>
<li><strong>tasks</strong> (<em>list</em>) – Array of <a class="reference internal" href="#workflow_task"><code class="xref json json-object docutils literal"><span class="pre">Workflow_task</span></code></a>. [optional*]</li>
<li><strong>parallel_groups</strong> (<em>list</em>) – Array of <code class="xref json json-object docutils literal"><span class="pre">Group_of_tasks</span></code> being executed on multiple processes. [optional*]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Either <code class="docutils literal"><span class="pre">tasks</span></code> or <code class="docutils literal"><span class="pre">parallel_groups</span></code> must be specified.</p>
</div>
<dl class="object">
<dt id="workflow_task">
<!--[workflow_task]--><code class="descname">Workflow_task</code><a class="headerlink" href="#workflow_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe an individual task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Object Properties:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Unique name given to each workflow task</li>
<li><strong>url</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Url of the WPS provider</li>
<li><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Identifier of a WPS process</li>
<li><strong>inputs</strong> (<em>dict</em>) – Dictionary of inputs that must be fed to the WPS process. The key is the input name and the value is either the input data or an array of data if multiple values are allowed for this input. [optional]</li>
<li><strong>linked_inputs</strong> (<em>dict</em>) – Dictionary of dynamic inputs that must be fed to the WPS process and obtained by the output of other tasks. The key is the input name (or None) and the value is an <a class="reference internal" href="#input_description"><code class="xref json json-object docutils literal"><span class="pre">Input_description</span></code></a> dictionary or an array of them if multiple values are allowed for this input. [optional]</li>
<li><strong>progress_range</strong> (<em>list</em>) – [optiona] Array [start, end] defining the overall progress range of this task. Default value is [0, 100].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Allow to plan the execution of a task after another one without feeding any output of the previous one to an input.</li>
</ul>
</div>
<dl class="object">
<dt id="group_of_task">
<!--[group_of_task]--><code class="descname">Group_of_task</code><a class="headerlink" href="#group_of_task" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Object Properties:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Group of task name.</li>
<li><strong>max_processes</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#int" title="Python Integer"><em>int</em></a>) – Number of processes to run concurrently to process the data.</li>
<li><strong>map</strong> (<a class="reference internal" href="#input_description"><code class="xref json json-object docutils literal"><span class="pre">Input_description</span></code></a>) – Object describing what has to be mapped inside the group or an array of data that has to be mapped directly.</li>
<li><strong>reduce</strong> (<a class="reference internal" href="#input_description"><code class="xref json json-object docutils literal"><span class="pre">Input_description</span></code></a>) – Object describing what has to be reduced before leaving the group.</li>
<li><strong>tasks</strong> (<em>list</em>) – Array of <a class="reference internal" href="#workflow_task"><code class="xref json json-object docutils literal"><span class="pre">Workflow_task</span></code></a> to run concurrently inside the group.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="object">
<dt id="input_description">
<!--[input_description]--><code class="descname">Input_description</code><a class="headerlink" href="#input_description" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Identifies the output of a process included in the workflow that serves as an input in a downstream process.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Object Properties:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>task</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Name of the task from which the input should be taken (if from a <a class="reference internal" href="#group_of_task"><code class="xref json json-object docutils literal"><span class="pre">Group_of_task</span></code></a>, this is from its map element).</li>
<li><strong>output</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#str" title="Python String"><em>str</em></a>) – Output name in the task provided above. Not required if the task has only one output or when referring to the map/reduce tasks of a group. [optional]</li>
<li><strong>as_reference</strong> (<a class="reference external" href="https://docs.python.org/library/stdtypes.html#boolean-values" title="Python Boolean"><em>boolean</em></a>) – Specify if the task output should be obtained as a reference (URL) or not (data directly). False is the default value if ommited. [optional]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The workflow executor is able obviously to assign a reference output to an expected reference input and a data output to an expected data input but will also be able to read the value of a reference output to send the expected data input. However, a data output linked to an expected reference input will yield an exception.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Using workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ouranos &amp; CRIM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>